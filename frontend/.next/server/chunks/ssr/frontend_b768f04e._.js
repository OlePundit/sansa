module.exports=[16497,a=>{"use strict";a.s(["createBlog",()=>k,"createService",()=>h,"deleteBlog",()=>m,"deletePackage",()=>n,"deleteService",()=>j,"fetchBlogs",()=>d,"fetchContacts",()=>g,"fetchOrders",()=>f,"fetchPackages",()=>e,"fetchServices",()=>c,"updateBlog",()=>l,"updateService",()=>i]);let b="http://localhost:8000/api";async function c(){let a=await fetch(`${b}/services`);if(!a.ok)throw Error("Failed to fetch services");return a.json()}async function d(){let a=await fetch(`${b}/blogs`);if(!a.ok)throw Error("Failed to fetch blogs");return a.json()}async function e(){let a=await fetch(`${b}/packages`);if(!a.ok)throw Error("Failed to fetch packages");return a.json()}async function f(){let a=await fetch(`${b}/orders`);if(!a.ok)throw Error("Failed to fetch orders");return a.json()}async function g(){let a=await fetch(`${b}/contacts`);if(!a.ok)throw Error("Failed to fetch contacts");return a.json()}async function h(a){let c=await fetch(`${b}/services`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!c.ok)throw Error("Failed to create service");return c.json()}async function i(a,c){let d=await fetch(`${b}/services/${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(!d.ok)throw Error("Failed to update service");return d.json()}async function j(a){if(!(await fetch(`${b}/services/${a}`,{method:"DELETE"})).ok)throw Error("Failed to delete service")}async function k(a){let c=await fetch(`${b}/blogs`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!c.ok)throw Error("Failed to create blog");return c.json()}async function l(a,c){let d=await fetch(`${b}/blogs/${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(!d.ok)throw Error("Failed to update blog");return d.json()}async function m(a){if(!(await fetch(`${b}/blogs/${a}`,{method:"DELETE"})).ok)throw Error("Failed to delete blog")}async function n(a){if(!(await fetch(`${b}/packages/${a}`,{method:"DELETE"})).ok)throw Error("Failed to delete package")}},74175,a=>{"use strict";a.s(["default",()=>f]);var b=a.i(57850),c=a.i(45056),d=a.i(93609),e=a.i(16497);function f({params:a}){let f=(0,d.useRouter)(),g="new"===a.id,[h,i]=(0,c.useState)(!g),[j,k]=(0,c.useState)({title:"",body:"",thumbnail:"",category:""});(0,c.useEffect)(()=>{g||(0,e.fetchBlogs)().then(b=>{let c=b.find(b=>b.id===parseInt(a.id));c&&k({title:c.title,body:c.body,thumbnail:c.thumbnail,category:c.category||""})}).finally(()=>i(!1))},[g,a.id]);let l=async b=>{b.preventDefault();try{g?await (0,e.createBlog)(j):await (0,e.updateBlog)(parseInt(a.id),j),f.push("/admin/blogs")}catch(a){alert("Failed to save blog")}};return h?(0,b.jsx)("div",{className:"px-4",children:"Loading..."}):(0,b.jsxs)("div",{className:"px-4 sm:px-0",children:[(0,b.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:g?"Add Blog Post":"Edit Blog Post"}),(0,b.jsxs)("form",{onSubmit:l,className:"bg-white shadow rounded-lg p-6 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),(0,b.jsx)("input",{type:"text",required:!0,value:j.title,onChange:a=>k({...j,title:a.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Category"}),(0,b.jsx)("input",{type:"text",value:j.category,onChange:a=>k({...j,category:a.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Thumbnail URL"}),(0,b.jsx)("input",{type:"text",required:!0,value:j.thumbnail,onChange:a=>k({...j,thumbnail:a.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Body"}),(0,b.jsx)("textarea",{required:!0,rows:10,value:j.body,onChange:a=>k({...j,body:a.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3"})]}),(0,b.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,b.jsx)("button",{type:"button",onClick:()=>f.push("/admin/blogs"),className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"}),(0,b.jsx)("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Save"})]})]})]})}}];

//# sourceMappingURL=frontend_b768f04e._.js.map