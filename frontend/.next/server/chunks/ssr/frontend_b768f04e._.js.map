{"version":3,"sources":["turbopack:///[project]/frontend/lib/api.ts","turbopack:///[project]/frontend/app/admin/blogs/[id]/page.tsx"],"sourcesContent":["const API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000/api';\n\nexport async function fetchServices() {\n  const response = await fetch(`${API_URL}/services`);\n  if (!response.ok) throw new Error('Failed to fetch services');\n  return response.json();\n}\n\nexport async function fetchBlogs() {\n  const response = await fetch(`${API_URL}/blogs`);\n  if (!response.ok) throw new Error('Failed to fetch blogs');\n  return response.json();\n}\n\nexport async function fetchPackages() {\n  const response = await fetch(`${API_URL}/packages`);\n  if (!response.ok) throw new Error('Failed to fetch packages');\n  return response.json();\n}\n\nexport async function fetchOrders() {\n  const response = await fetch(`${API_URL}/orders`);\n  if (!response.ok) throw new Error('Failed to fetch orders');\n  return response.json();\n}\n\nexport async function fetchContacts() {\n  const response = await fetch(`${API_URL}/contacts`);\n  if (!response.ok) throw new Error('Failed to fetch contacts');\n  return response.json();\n}\n\nexport async function createService(data: any) {\n  const response = await fetch(`${API_URL}/services`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(data),\n  });\n  if (!response.ok) throw new Error('Failed to create service');\n  return response.json();\n}\n\nexport async function updateService(id: number, data: any) {\n  const response = await fetch(`${API_URL}/services/${id}`, {\n    method: 'PUT',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(data),\n  });\n  if (!response.ok) throw new Error('Failed to update service');\n  return response.json();\n}\n\nexport async function deleteService(id: number) {\n  const response = await fetch(`${API_URL}/services/${id}`, {\n    method: 'DELETE',\n  });\n  if (!response.ok) throw new Error('Failed to delete service');\n}\n\nexport async function createBlog(data: any) {\n  const response = await fetch(`${API_URL}/blogs`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(data),\n  });\n  if (!response.ok) throw new Error('Failed to create blog');\n  return response.json();\n}\n\nexport async function updateBlog(id: number, data: any) {\n  const response = await fetch(`${API_URL}/blogs/${id}`, {\n    method: 'PUT',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(data),\n  });\n  if (!response.ok) throw new Error('Failed to update blog');\n  return response.json();\n}\n\nexport async function deleteBlog(id: number) {\n  const response = await fetch(`${API_URL}/blogs/${id}`, {\n    method: 'DELETE',\n  });\n  if (!response.ok) throw new Error('Failed to delete blog');\n}\n\nexport async function createPackage(data: any) {\n  const response = await fetch(`${API_URL}/packages`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(data),\n  });\n  if (!response.ok) throw new Error('Failed to create package');\n  return response.json();\n}\n\nexport async function updatePackage(id: number, data: any) {\n  const response = await fetch(`${API_URL}/packages/${id}`, {\n    method: 'PUT',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(data),\n  });\n  if (!response.ok) throw new Error('Failed to update package');\n  return response.json();\n}\n\nexport async function deletePackage(id: number) {\n  const response = await fetch(`${API_URL}/packages/${id}`, {\n    method: 'DELETE',\n  });\n  if (!response.ok) throw new Error('Failed to delete package');\n}\n","'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { fetchBlogs, updateBlog, createBlog } from '@/lib/api';\n\nexport default function BlogEdit({ params }: { params: { id: string } }) {\n  const router = useRouter();\n  const isNew = params.id === 'new';\n  const [loading, setLoading] = useState(!isNew);\n  const [formData, setFormData] = useState({\n    title: '',\n    body: '',\n    thumbnail: '',\n    category: '',\n  });\n\n  useEffect(() => {\n    if (!isNew) {\n      fetchBlogs()\n        .then((blogs) => {\n          const blog = blogs.find((b: any) => b.id === parseInt(params.id));\n          if (blog) {\n            setFormData({\n              title: blog.title,\n              body: blog.body,\n              thumbnail: blog.thumbnail,\n              category: blog.category || '',\n            });\n          }\n        })\n        .finally(() => setLoading(false));\n    }\n  }, [isNew, params.id]);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    try {\n      if (isNew) {\n        await createBlog(formData);\n      } else {\n        await updateBlog(parseInt(params.id), formData);\n      }\n      router.push('/admin/blogs');\n    } catch (error) {\n      alert('Failed to save blog');\n    }\n  };\n\n  if (loading) return <div className=\"px-4\">Loading...</div>;\n\n  return (\n    <div className=\"px-4 sm:px-0\">\n      <h2 className=\"text-3xl font-bold text-gray-900 mb-6\">\n        {isNew ? 'Add Blog Post' : 'Edit Blog Post'}\n      </h2>\n      <form onSubmit={handleSubmit} className=\"bg-white shadow rounded-lg p-6 space-y-6\">\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700\">Title</label>\n          <input\n            type=\"text\"\n            required\n            value={formData.title}\n            onChange={(e) => setFormData({ ...formData, title: e.target.value })}\n            className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3\"\n          />\n        </div>\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700\">Category</label>\n          <input\n            type=\"text\"\n            value={formData.category}\n            onChange={(e) => setFormData({ ...formData, category: e.target.value })}\n            className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3\"\n          />\n        </div>\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700\">Thumbnail URL</label>\n          <input\n            type=\"text\"\n            required\n            value={formData.thumbnail}\n            onChange={(e) => setFormData({ ...formData, thumbnail: e.target.value })}\n            className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3\"\n          />\n        </div>\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700\">Body</label>\n          <textarea\n            required\n            rows={10}\n            value={formData.body}\n            onChange={(e) => setFormData({ ...formData, body: e.target.value })}\n            className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3\"\n          />\n        </div>\n        <div className=\"flex justify-end space-x-3\">\n          <button\n            type=\"button\"\n            onClick={() => router.push('/admin/blogs')}\n            className=\"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\"\n          >\n            Cancel\n          </button>\n          <button\n            type=\"submit\"\n            className=\"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700\"\n          >\n            Save\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}