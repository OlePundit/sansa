{"version":3,"sources":["turbopack:///[project]/frontend/lib/api.ts","turbopack:///[project]/frontend/app/admin/blogs/page.tsx"],"sourcesContent":["const API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000/api';\n\nexport async function fetchServices() {\n  const response = await fetch(`${API_URL}/services`);\n  if (!response.ok) throw new Error('Failed to fetch services');\n  return response.json();\n}\n\nexport async function fetchBlogs() {\n  const response = await fetch(`${API_URL}/blogs`);\n  if (!response.ok) throw new Error('Failed to fetch blogs');\n  return response.json();\n}\n\nexport async function fetchPackages() {\n  const response = await fetch(`${API_URL}/packages`);\n  if (!response.ok) throw new Error('Failed to fetch packages');\n  return response.json();\n}\n\nexport async function fetchOrders() {\n  const response = await fetch(`${API_URL}/orders`);\n  if (!response.ok) throw new Error('Failed to fetch orders');\n  return response.json();\n}\n\nexport async function fetchContacts() {\n  const response = await fetch(`${API_URL}/contacts`);\n  if (!response.ok) throw new Error('Failed to fetch contacts');\n  return response.json();\n}\n\nexport async function createService(data: any) {\n  const response = await fetch(`${API_URL}/services`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(data),\n  });\n  if (!response.ok) throw new Error('Failed to create service');\n  return response.json();\n}\n\nexport async function updateService(id: number, data: any) {\n  const response = await fetch(`${API_URL}/services/${id}`, {\n    method: 'PUT',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(data),\n  });\n  if (!response.ok) throw new Error('Failed to update service');\n  return response.json();\n}\n\nexport async function deleteService(id: number) {\n  const response = await fetch(`${API_URL}/services/${id}`, {\n    method: 'DELETE',\n  });\n  if (!response.ok) throw new Error('Failed to delete service');\n}\n\nexport async function createBlog(data: any) {\n  const response = await fetch(`${API_URL}/blogs`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(data),\n  });\n  if (!response.ok) throw new Error('Failed to create blog');\n  return response.json();\n}\n\nexport async function updateBlog(id: number, data: any) {\n  const response = await fetch(`${API_URL}/blogs/${id}`, {\n    method: 'PUT',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(data),\n  });\n  if (!response.ok) throw new Error('Failed to update blog');\n  return response.json();\n}\n\nexport async function deleteBlog(id: number) {\n  const response = await fetch(`${API_URL}/blogs/${id}`, {\n    method: 'DELETE',\n  });\n  if (!response.ok) throw new Error('Failed to delete blog');\n}\n\nexport async function createPackage(data: any) {\n  const response = await fetch(`${API_URL}/packages`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(data),\n  });\n  if (!response.ok) throw new Error('Failed to create package');\n  return response.json();\n}\n\nexport async function updatePackage(id: number, data: any) {\n  const response = await fetch(`${API_URL}/packages/${id}`, {\n    method: 'PUT',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(data),\n  });\n  if (!response.ok) throw new Error('Failed to update package');\n  return response.json();\n}\n\nexport async function deletePackage(id: number) {\n  const response = await fetch(`${API_URL}/packages/${id}`, {\n    method: 'DELETE',\n  });\n  if (!response.ok) throw new Error('Failed to delete package');\n}\n","'use client';\n\nimport { useEffect, useState } from 'react';\nimport { fetchBlogs, deleteBlog } from '@/lib/api';\nimport Link from 'next/link';\n\nexport default function BlogsAdmin() {\n  const [blogs, setBlogs] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  const loadBlogs = () => {\n    fetchBlogs()\n      .then(setBlogs)\n      .catch(console.error)\n      .finally(() => setLoading(false));\n  };\n\n  useEffect(() => {\n    loadBlogs();\n  }, []);\n\n  const handleDelete = async (id: number) => {\n    if (!confirm('Are you sure?')) return;\n    try {\n      await deleteBlog(id);\n      loadBlogs();\n    } catch (error) {\n      alert('Failed to delete blog');\n    }\n  };\n\n  if (loading) return <div className=\"px-4\">Loading...</div>;\n\n  return (\n    <div className=\"px-4 sm:px-0\">\n      <div className=\"sm:flex sm:items-center sm:justify-between mb-6\">\n        <h2 className=\"text-3xl font-bold text-gray-900\">Blogs</h2>\n        <Link\n          href=\"/admin/blogs/new\"\n          className=\"mt-3 sm:mt-0 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700\"\n        >\n          Add Blog Post\n        </Link>\n      </div>\n\n      <div className=\"bg-white shadow overflow-hidden sm:rounded-md\">\n        <ul className=\"divide-y divide-gray-200\">\n          {blogs.map((blog) => (\n            <li key={blog.id}>\n              <div className=\"px-4 py-4 flex items-center sm:px-6\">\n                <div className=\"min-w-0 flex-1\">\n                  <div className=\"text-sm font-medium text-blue-600\">{blog.title}</div>\n                  {blog.category && <div className=\"text-xs text-gray-500\">{blog.category}</div>}\n                </div>\n                <div className=\"ml-5 flex-shrink-0 flex space-x-2\">\n                  <Link href={`/admin/blogs/${blog.id}`} className=\"text-blue-600 hover:text-blue-900\">\n                    Edit\n                  </Link>\n                  <button onClick={() => handleDelete(blog.id)} className=\"text-red-600 hover:text-red-900\">\n                    Delete\n                  </button>\n                </div>\n              </div>\n            </li>\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}